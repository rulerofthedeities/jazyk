<div class="panel panel-default">
  <div class="panel-heading">
    <span class="fa fa-bell-o"></span>
      {{currentNotification ? currentNotification.title : text["Notifications"]}}
    <span 
      *ngIf="currentNotification"
      (click)='onCloseNotification()'
      class="fa fa-times pull-right">
    </span>
  </div>
  <div class="panel-body">
    <div *ngIf="notifications?.length===0 else notificationsList">
      {{text["NoRecentNotifications"]}}
    </div>
  </div>
</div>

<ng-template #notificationsList>
  <div class="list-group" *ngIf="!currentNotification else notificiationDetail">
    <a 
      *ngFor="let notification of notifications; let i=index"
      class="list-group-item"
      (click)="onSelectNotification(i)">
      <span class="read fa" [ngClass]="{
        'fa-circle':!notification.read,
        'fa-circle-o': notification.read}"></span>
      <span [class.unread]="!notification.read">{{notification.title}}</span>
      <span class="badge">
        {{notification.dt | date: 'dd'}} {{text[notification.dt | date: 'MMMM']}} {{notification.dt | date: 'yyyy'}}
      </span>
    </a>
  </div>
</ng-template>

<ng-template #notificiationDetail>
  <div [innerHTML]="currentNotification.message">
  </div>
  <div class="badge pull-right">
    {{currentNotification.dt | date: "yyyy-MM-dd HH:mm"}}
  </div>
</ng-template>