<div class="answer-instruction" [style.visibility]="disabled ? 'hidden' : 'visible'">
  <span class="fa fa-info-circle"></span>
  {{instruction}}
</div>
<div class="form-group">
  <label 
    for="answer" 
    class="control-label col-xs-1">
    <km-region-flag
      [lan]="lan"
      [word]="data.exercise.foreign">
    </km-region-flag>
  </label>
  <div class="col-xs-11">
    <div class="input-group input-lg">
      <span class="input-group-addon" *ngIf="prefix">
        {{prefix}}
      </span>
      <input 
        class="form-control input-lg" 
        id="answer"
        maxlength="100"
        autofocus
        autocomplete="off"
        spellcheck="false"
        [attr.disabled]="disabled ? '': null"
        [ngClass]="{
          correct: disabled && exData.isCorrect && !exData.isAlt,
          incorrect: disabled && !data.data.isCorrect && !exData.isAlmostCorrect,
          isAlt: disabled && exData.isCorrect && exData.isAlt,
          isAlmostCorrect: disabled && !exData.isCorrect && exData.isAlmostCorrect }"
        #answer>
    </div>
  </div>
</div>
<div class="clearfix"></div>
<div class="solution" *ngIf="disabled && (!exData.isCorrect || exData.isAlt)">
  <span class="msg">{{solution.msg}} </span><span class="answer">{{solution.solution}}</span>
</div>
<km-keyboard 
  *ngIf="keyboard.showKeyboard && !disabled"
  [keys]="keyboard.keys"
  (selectedKey)="onKeySelected($event)">
</km-keyboard>