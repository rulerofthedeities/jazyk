<div *ngFor="let chapter of chapters; let i = index">
  <km-chapter
    dnd-sortable-container
    [sortableData]="chapters"
    [title]="chapter"
    [nr]="i"
    [total]="getLessons(chapter).length"
    [chapterTotal]="chapters.length"
    [isOpen]="isCurrent(chapter)"
    [text]="text"
    (toggleOpen)="onToggleChapter(chapter)"
    (remove)="onRemoveChapter(chapter)"
    (sorted)="onResortedChapters()">
  </km-chapter>
  <km-chapter-lessons
    *ngIf="isCurrent(chapter)"
    [lessons]="getLessons(chapter)"
    [lessonIds]="getLessonIds(chapter)"
    [text]="text"
    (remove)="onRemoveLesson($event)"
    (sorted)="onResortedLessons(chapter, $event)">
  </km-chapter-lessons>
</div>

<ul class="nochapters list-unstyled">
  <li *ngFor="let lesson of getLessons(''); let i=index">
    {{i + 1}}. {{lesson.name}}  ({{lesson.exercises?.length}})
  </li>
</ul>

