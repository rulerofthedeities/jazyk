<div class="exercises">
  <div class="list-group">
    <div *ngFor="let exercise of exercises; let i = index;">
      <li class="list-group-item row">
        <div class="pull-right">
          <span 
            class="btn btn-danger fa fa-trash-o"
            (click)="onRemoveExercise(confirm, exercise._id)">
          </span>
          <span 
            class="btn btn-primary fa fa-pencil"
            (click)="onEditExercise(exercise._id)">
          </span>
          <span 
            class="move fa fa-arrows"
            (click)="onMoveExercise(exercise._id)">
          </span>
        </div>
        <div class="items">
          {{exercise.nr + 1}}. 
          <span class="item" [class.active]="!!exercise.audios && exercise.audios.length > 0">
            <span class="fa fa-volume-up"></span>
          </span>
          <span class="item" [class.active]="!!exercise.image">
            <span class="fa fa-camera"></span>
          </span>
        </div>
        <div class="col-xs-4">
          <div class="words">
            <span (dblclick)="onEditExercise(exercise._id, 'foreignWord')">
              <strong>{{exercise.foreign?.word}}</strong>
            </span> / 
            <span (dblclick)="onEditExercise(exercise._id, 'localWord')">
              {{exercise.local?.word}}
            </span>
          </div>
        </div>
        <div class="col-xs-1">
          {{exercise.wordTpe}}
        </div>
        <div class="col-xs-3">
          {{exercise.aspect}} / {{exercise.genus}} / +{{exercise.followingCase}} / {{exercise.foreign?.hint}} / {{exercise.foreign?.info}} / {{exercise.foreign?.alt}}
        </div>
      </li>
      <km-build-exercise *ngIf="exercise._id===editingId"
        [languagePair]="languagePair"
        [lessonId]="lessonId"
        [exercise]="exercise"
        [text]="text"
        [focus]="focusField"
        (cancelEdit)="onCancelEdit()">
      </km-build-exercise>
    </div>
  </div>
</div>

<km-modal-confirm #confirm
  [level]="'warning'"
  [text]="text"
  (confirmed)="onRemoveConfirmed($event)">
  <div title>{{text.Warning}}</div>
  <div message>{{getRemoveMessage()}}</div>
</km-modal-confirm>
