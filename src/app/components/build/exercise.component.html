<form *ngIf="isFormReady"
  [formGroup]="exerciseForm"
  class="form-horizontal">

  <!-- FOREIGN WORD -->
  
  <div class="form-group">
    <label 
      for="foreignWord" 
      class="control-label col-xs-1">
      <img src="/assets/img/flags/{{languagePair.to}}.png" class="flag">
    </label>
    <div class="col-xs-11">
      <input 
        class="form-control" 
        id="foreignWord"
        autocomplete="off"
        placeholder="{{text['Enterword' + lanForeign]}}"
        required
        formControlName="foreignWord"
        (focus)="onFocus(foreign.value, lanForeign)" 
        (ngModelChange)="onFilterChanged(foreign.value, lanForeign)"
        #foreign>
    </div>
  </div>

  <div class="form-group" *ngIf="lanList===lanForeign">
    <div class="col-xs-11 col-xs-offset-1">
      <km-filter-list
        [wordpairs]="wordpairs"
        [languageId]="lanList"
        [languagePair]="languagePair"
        (close)="onCloseDropdown()"
        (selectedWord)="onWordSelected($event)">
      </km-filter-list>
    </div>
  </div>

  <!-- UPDATE FOREIGN -->

  <div class="form-group">
    <label 
      for="foreignAlt" 
      class="control-label col-xs-1">
    </label>
    <div 
      class="control-label col-xs-3">
      <div class="input-group">
        <span class="input-group-addon">
          Alt.: 
        </span>
        <input 
          type="text"
          class="form-control" 
          id="foreignAlt"
          autocomplete="off"
          #altforeign>
        <span class="input-group-btn">
          <button
            type="button"
            class="btn btn-success"
            (click)="onAddAlt('foreign', altforeign.value)">
            Add
          </button>
        </span>
      </div>
    </div>
    <div class="col-xs-8">

      <ul class="list-inline" *ngIf="exercise.foreign.alt">
        <li *ngFor="let alt of exercise.foreign.alt.split('|'); let i = index" class="list-group-item">
          {{alt}} <span class="fa fa-times" (click)="onRemoveAlt('foreign', i)"></span>
        </li>
      </ul>
    </div>
  </div>
  

  <div class="form-group">
    <label 
      for="localWord" 
      class="control-label col-xs-1">
      <img src="/assets/img/flags/{{this.languagePair.from}}.png" class="flag">
    </label>
    <div class="col-xs-11">
      <input 
        class="form-control" 
        id="localWord"
        autocomplete="off"
        placeholder="{{text['Enterword' + lanLocal]}}"
        required
        formControlName="localWord"
        (focus)="onFocus(local.value, lanLocal)"
        (ngModelChange)="onFilterChanged(local.value, lanLocal)"
        #local>
    </div>
  </div>

  <div class="form-group" *ngIf="lanList===lanLocal">
    <div class="col-xs-11 col-xs-offset-1">
      <km-filter-list
        [wordpairs]="wordpairs"
        [languageId]="lanList"
        [languagePair]="languagePair"
        (close)="onCloseDropdown()"
        (selectedWord)="onWordSelected($event)">
      </km-filter-list>
    </div>
  </div>

  <div class="form-group">
    <div class="col-xs-11 col-xs-offset-1">
      <div class="btn btn-success"
        [attr.disabled] = "isSaving ? '' : null"
        (click)="onSaveNewWord(exerciseForm.value)"
        *ngIf="!exercise && exerciseForm.valid">
        {{text.Addword}}
      </div>
      <div class="btn btn-success"
        [attr.disabled] = "isSaving ? '' : null"
        (click)="onEditWord(exerciseForm.value)"
        *ngIf="exercise && exerciseForm.valid">
        {{text.Editword}}
      </div>
      <div class="btn btn-warning"
        [attr.disabled] = "isSaving ? '' : null"
        (click)="onCancelEdit()"
        *ngIf="exercise">
        {{text.cancel}}
      </div>
    </div>
  </div>

</form>
