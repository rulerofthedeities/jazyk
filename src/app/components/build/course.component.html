<km-build-course-header-bar
  *ngIf="!isEditMode && course"
  [text]="text"
  [course]="course"
  [canEditCourse]="true"
  (edit)="onEditCourse()">
</km-build-course-header-bar>

<km-build-course-header *ngIf="isEditMode"
  [text]="text"
  [course]="course"
  [languages]="languages"
  [currentLanguage]="currentLanguage"
  (done)="onCloseHeader($event)">
</km-build-course-header>

<!-- CHAPTER / LESSON LIST -->

<div class="panel panel-default chapters" *ngIf="lessons">
  <div class="panel-body">
    <km-build-lessons
      [lessons]="lessons"
      [chapters]="chapters"
      [courseId]="course._id">
    </km-build-lessons>
  </div>
</div>

<!-- NEW LESSON -->

<div class="footer" *ngIf="course">
  <div *ngIf="!isNewLesson; else addLesson">
    <div class="btn btn-success btn-lg"(click)="onNewLesson()">
      <span class="fa fa-file"></span> {{text["Addlesson"]}}
    </div>
  </div>
</div>

<ng-template #addLesson>
  <div class="panel panel-default">
    <div class="panel-body">
      <div>
        <km-build-lesson-header
          [lessons]="lessons"
          [chapters]="chapters"
          [courseId]="course._id"
          [languagePair]="course.languagePair"
          [nr]="lessons.length"
          [text]="text"
          (done)="onLessonDone($event)">
        </km-build-lesson-header>
      </div>
    </div>
  </div>
</ng-template>