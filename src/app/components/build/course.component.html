<h1 *ngIf="!isEditMode && course" class="header">
  <img src="/assets/img/flags/{{course?.languagePair.to}}.png" class="flag">
  {{course.name}}
  <span class="indicators">
    <span class="fa"
      [ngClass]="{'fa-lock': !course.isPublic, 'fa-user':course.isPublic}">
    </span>
    <span class="fa"
      [ngClass]="{'fa-power-off': !course.isPublished, 'fa-check':course.isPublished}">
    </span>
  </span>
  <div class="btn btn-warning" (click)="onEditCourse()">
    <span class="fa fa-pencil"></span> {{text["Edit"]}}
  </div>
</h1>

<km-build-course-header *ngIf="isEditMode"
  [text]="text"
  [course]="course"
  [languages]="languages"
  [currentLanguage]="currentLanguage"
  (done)="onCloseHeader($event)">
</km-build-course-header>

<!-- CHAPTER / LESSON LIST -->

<div class="panel panel-default" *ngIf="lessons">
  <div class="panel-body">
    <div>
      <km-build-lessons
        [lessons]="lessons"
        [chapters]="chapters"
        [courseId]="course._id">
      </km-build-lessons>
    </div>
  </div>
</div>

<!-- NEW LESSON -->

<div class="footer" *ngIf="course">
  <div *ngIf="!isNewLesson; else addLesson">
    <div class="btn btn-success btn-lg"(click)="onNewLesson()">
      <span class="fa fa-file"></span> {{text["Addlesson"]}}
    </div>
  </div>
</div>

<ng-template #addLesson>
  <div class="panel panel-default">
    <div class="panel-body">
      <div>
        <km-build-lesson-header
          [lessons]="lessons"
          [chapters]="chapters"
          [courseId]="course._id"
          [languagePair]="course.languagePair"
          [nr]="lessons.length"
          [text]="text"
          (done)="onLessonDone($event)">
        </km-build-lesson-header>
      </div>
    </div>
  </div>
</ng-template>